-------alter columns 

alter table record_configs drop column IS_DYNAMIC_QUERY;

alter table record_configs add IS_DYNAMIC_QUERY  NUMBER(2) default 0;

alter table record_view_configs drop column DYN_WHERE_CLUSE_PERF_SPEED;

alter table record_view_configs add DYN_WHERE_CLUSE_PERF_SPEED  NUMBER(2) default 1;


--------------tables creation

drop table FIELD_PERF_SPEED_MAPPINGS ;

create table FIELD_PERF_SPEED_MAPPINGS
(
 ID	NUMBER,
 RECORD_CONFIG_ID	NUMBER(20) NOT NULL,
 FIELD_ID	NUMBER(20) NOT NULL,
 IS_SLOW_FIELD	 NUMBER(2),
 primary key(ID),
 CONSTRAINT FK_FIELD_PERF_RC_ID
 FOREIGN KEY (RECORD_CONFIG_ID)
 REFERENCES RECORD_CONFIGS(id)
 );

drop sequence FIELD_PERF_SPEED_MAPPINGS_SEQ ;

CREATE SEQUENCE FIELD_PERF_SPEED_MAPPINGS_SEQ
START WITH 1
INCREMENT BY 1
CACHE 20
MINVALUE 1;

drop table DYNAMIC_QUERY_PATHS ;

create table DYNAMIC_QUERY_PATHS
(
 ID	NUMBER,
 RECORD_CONFIG_ID	NUMBER(20) NOT NULL,
 QUERY_SPEED_CATEGORY	NUMBER(2) NOT NULL,
 RELATIVE_PATH	VARCHAR2(256) NOT NULL,
 primary key(ID),
 CONSTRAINT FK_DYNAMIC_QUERY_RC_ID
 FOREIGN KEY (RECORD_CONFIG_ID)
 REFERENCES RECORD_CONFIGS(id)
 );

drop sequence DYNAMIC_QUERY_PATHS_SEQ;

CREATE SEQUENCE DYNAMIC_QUERY_PATHS_SEQ
START WITH 1
INCREMENT BY 1
CACHE 20
MINVALUE 1;


commit ;
