-- ********************************************************************************
-- *  Copyright(c) Subexazure Limited 2006. All Rights Reserved.               *
-- *  The copyright to the Computer Program(s) herein is the property of Subex    *
-- *  systems limited. the program(s) may be used and/or copied with the written  *
-- *  permission from subex systems limited or in accordance with the terms and   *
-- *  conditions stipulated in the agreement/contract under which the program(s)  *
-- *  have been supplied.                                                         *
-- ********************************************************************************
--SET FEEDBACK OFF
SPOOL nikira-db-with-tablespace-COUNTERS.log ;

DROP INDEX IX_NETFLOW_COUNTER_REF_ID ;
DROP INDEX IX_NETFLOW_COUNTER_AGG_VALUE ;
DROP INDEX IX_NETFLOW_COUNTER_AGG_TYPE ;
DROP TABLE NETFLOW_COUNTER CASCADE CONSTRAINTS ;

CREATE TABLE NETFLOW_COUNTER (
		 REFERENCE_ID                   NUMBER(20) not null,
         AGGREGATION_TYPE               NUMBER(20) not null,
         AGGREGATION_VALUE              VARCHAR2(40) not null,
         RECORD_CATEGORY                NUMBER(2),
         SERIAL_NUMBER                  NUMBER(20) not null,
         NO_ELEMENTS                    NUMBER(20),
         THREAD_ID                      NUMBER(5),
         RAW1                           RAW(2000),
         RAW2                           RAW(2000),
         RAW3                           RAW(2000),
         RAW4                           RAW(2000),
         RAW5                           RAW(2000),
         RAW6                           RAW(2000),
         RAW7                           RAW(2000),
         RAW8                           RAW(2000)
         )INITRANS 4 STORAGE(FREELISTS 16)
         PARTITION BY LIST (THREAD_ID)
         (
          PARTITION P01 VALUES (0)  TABLESPACE TSDU_NETFLOW_COUNTER01,
          PARTITION P02 VALUES (1)  TABLESPACE TSDU_NETFLOW_COUNTER02,
          PARTITION P03 VALUES (2)  TABLESPACE TSDU_NETFLOW_COUNTER03,
          PARTITION P04 VALUES (3)  TABLESPACE TSDU_NETFLOW_COUNTER04,
          PARTITION P05 VALUES (4)  TABLESPACE TSDU_NETFLOW_COUNTER05,
          PARTITION P06 VALUES (5)  TABLESPACE TSDU_NETFLOW_COUNTER06,
          PARTITION P07 VALUES (6)  TABLESPACE TSDU_NETFLOW_COUNTER07,
          PARTITION P08 VALUES (7)  TABLESPACE TSDU_NETFLOW_COUNTER08,
          PARTITION P09 VALUES (8)  TABLESPACE TSDU_NETFLOW_COUNTER09,
          PARTITION P10 VALUES (9)  TABLESPACE TSDU_NETFLOW_COUNTER10,
          PARTITION P11 VALUES (10) TABLESPACE TSDU_NETFLOW_COUNTER11,
          PARTITION P12 VALUES (11) TABLESPACE TSDU_NETFLOW_COUNTER12,
          PARTITION P13 VALUES (12) TABLESPACE TSDU_NETFLOW_COUNTER13,
          PARTITION P14 VALUES (13) TABLESPACE TSDU_NETFLOW_COUNTER14,
          PARTITION P15 VALUES (14) TABLESPACE TSDU_NETFLOW_COUNTER15,
          PARTITION P16 VALUES (15) TABLESPACE TSDU_NETFLOW_COUNTER16
         );
         
         
CREATE INDEX IX_NETFLOW_COUNTER_AGG_VALUE ON NETFLOW_COUNTER("AGGREGATION_VALUE")
INITRANS 4 STORAGE(FREELISTS 16) 
LOCAL
(
 PARTITION P01 TABLESPACE TSDU_NETFLOW_COUNTERIND01_32K,
 PARTITION P02 TABLESPACE TSDU_NETFLOW_COUNTERIND02_32K,
 PARTITION P03 TABLESPACE TSDU_NETFLOW_COUNTERIND03_32K,
 PARTITION P04 TABLESPACE TSDU_NETFLOW_COUNTERIND04_32K,
 PARTITION P05 TABLESPACE TSDU_NETFLOW_COUNTERIND05_32K,
 PARTITION P06 TABLESPACE TSDU_NETFLOW_COUNTERIND06_32K,
 PARTITION P07 TABLESPACE TSDU_NETFLOW_COUNTERIND07_32K,
 PARTITION P08 TABLESPACE TSDU_NETFLOW_COUNTERIND08_32K,
 PARTITION P09 TABLESPACE TSDU_NETFLOW_COUNTERIND09_32K,
 PARTITION P10 TABLESPACE TSDU_NETFLOW_COUNTERIND10_32K,
 PARTITION P11 TABLESPACE TSDU_NETFLOW_COUNTERIND11_32K,
 PARTITION P12 TABLESPACE TSDU_NETFLOW_COUNTERIND12_32K,
 PARTITION P13 TABLESPACE TSDU_NETFLOW_COUNTERIND13_32K,
 PARTITION P14 TABLESPACE TSDU_NETFLOW_COUNTERIND14_32K,
 PARTITION P15 TABLESPACE TSDU_NETFLOW_COUNTERIND15_32K,
 PARTITION P16 TABLESPACE TSDU_NETFLOW_COUNTERIND16_32K
 );

CREATE INDEX IX_NETFLOW_COUNTER_AGG_TYPE ON NETFLOW_COUNTER("AGGREGATION_TYPE")
INITRANS 4 STORAGE(FREELISTS 16) 
LOCAL
(
  PARTITION P01 TABLESPACE TSDU_NETFLOW_COUNTERIND01_32K,
  PARTITION P02 TABLESPACE TSDU_NETFLOW_COUNTERIND02_32K,
  PARTITION P03 TABLESPACE TSDU_NETFLOW_COUNTERIND03_32K,
  PARTITION P04 TABLESPACE TSDU_NETFLOW_COUNTERIND04_32K,
  PARTITION P05 TABLESPACE TSDU_NETFLOW_COUNTERIND05_32K,
  PARTITION P06 TABLESPACE TSDU_NETFLOW_COUNTERIND06_32K,
  PARTITION P07 TABLESPACE TSDU_NETFLOW_COUNTERIND07_32K,
  PARTITION P08 TABLESPACE TSDU_NETFLOW_COUNTERIND08_32K,
  PARTITION P09 TABLESPACE TSDU_NETFLOW_COUNTERIND09_32K,
  PARTITION P10 TABLESPACE TSDU_NETFLOW_COUNTERIND10_32K,
  PARTITION P11 TABLESPACE TSDU_NETFLOW_COUNTERIND11_32K,
  PARTITION P12 TABLESPACE TSDU_NETFLOW_COUNTERIND12_32K,
  PARTITION P13 TABLESPACE TSDU_NETFLOW_COUNTERIND13_32K,
  PARTITION P14 TABLESPACE TSDU_NETFLOW_COUNTERIND14_32K,
  PARTITION P15 TABLESPACE TSDU_NETFLOW_COUNTERIND15_32K,
  PARTITION P16 TABLESPACE TSDU_NETFLOW_COUNTERIND16_32K
);


CREATE INDEX IX_NETFLOW_COUNTER_REF_ID ON NETFLOW_COUNTER("REFERENCE_ID") 
INITRANS 4 STORAGE(FREELISTS 16) 
LOCAL
(
  PARTITION P01 TABLESPACE TSDU_NETFLOW_COUNTERIND01_32K,
  PARTITION P02 TABLESPACE TSDU_NETFLOW_COUNTERIND02_32K,
  PARTITION P03 TABLESPACE TSDU_NETFLOW_COUNTERIND03_32K,
  PARTITION P04 TABLESPACE TSDU_NETFLOW_COUNTERIND04_32K,
  PARTITION P05 TABLESPACE TSDU_NETFLOW_COUNTERIND05_32K,
  PARTITION P06 TABLESPACE TSDU_NETFLOW_COUNTERIND06_32K,
  PARTITION P07 TABLESPACE TSDU_NETFLOW_COUNTERIND07_32K,
  PARTITION P08 TABLESPACE TSDU_NETFLOW_COUNTERIND08_32K,
  PARTITION P09 TABLESPACE TSDU_NETFLOW_COUNTERIND09_32K,
  PARTITION P10 TABLESPACE TSDU_NETFLOW_COUNTERIND10_32K,
  PARTITION P11 TABLESPACE TSDU_NETFLOW_COUNTERIND11_32K,
  PARTITION P12 TABLESPACE TSDU_NETFLOW_COUNTERIND12_32K,
  PARTITION P13 TABLESPACE TSDU_NETFLOW_COUNTERIND13_32K,
  PARTITION P14 TABLESPACE TSDU_NETFLOW_COUNTERIND14_32K,
  PARTITION P15 TABLESPACE TSDU_NETFLOW_COUNTERIND15_32K,
  PARTITION P16 TABLESPACE TSDU_NETFLOW_COUNTERIND16_32K
);


COMMIT ;
QUIT;
