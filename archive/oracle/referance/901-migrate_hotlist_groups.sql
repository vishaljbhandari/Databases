-- Hotlist : Start --

DELETE FROM HOTLIST_GROUPS_SUSPECT_VALUES ;
DELETE FROM HOTLIST_GROUPS_NETWORKS ;
DELETE FROM HOTLIST_GROUPS ;
DELETE FROM SUSPECT_VALUES ;

CREATE SEQUENCE DEFAULT_HOTLIST_GROUPS_SEQ INCREMENT BY 1 NOMAXVALUE MINVALUE 1 NOCYCLE CACHE 20 ORDER;

INSERT INTO SUSPECT_VALUES (ID, VALUE, SOURCE, REASON, USER_ID, ENTITY_TYPE, EXPIRY_DATE)
	SELECT SUSPECT_VALUES_SEQ.nextval, VALUE, SOURCE, REASON, 1, 2, EXPIRY_DATE FROM SUSPECT_NUMBER@DU_NIKIRA ;
INSERT INTO SUSPECT_VALUES (ID, VALUE, SOURCE, REASON, USER_ID, ENTITY_TYPE, EXPIRY_DATE)
	SELECT SUSPECT_VALUES_SEQ.nextval, VALUE, SOURCE, REASON, 1, 3, EXPIRY_DATE FROM SUSPECT_EQUIPMENT_ID@DU_NIKIRA ;
INSERT INTO SUSPECT_VALUES (ID, VALUE, SOURCE, REASON, USER_ID, ENTITY_TYPE, EXPIRY_DATE)
	SELECT SUSPECT_VALUES_SEQ.nextval, VALUE, SOURCE, REASON, 1, 4, EXPIRY_DATE FROM SUSPECT_IMSI_NUMBER@DU_NIKIRA ;
INSERT INTO SUSPECT_VALUES (ID, VALUE, SOURCE, REASON, USER_ID, ENTITY_TYPE, EXPIRY_DATE)
	SELECT SUSPECT_VALUES_SEQ.nextval, VALUE, SOURCE, REASON, 1, 14, EXPIRY_DATE FROM SUSPECT_CELL_SITE@DU_NIKIRA ;
INSERT INTO SUSPECT_VALUES (ID, VALUE, SOURCE, REASON, USER_ID, ENTITY_TYPE, EXPIRY_DATE)
	SELECT SUSPECT_VALUES_SEQ.nextval, VALUE, SOURCE, REASON, 1, 2076, EXPIRY_DATE FROM SUSPECT_COUNTRY@DU_NIKIRA ;

-- TODO -  SUSPECT_COUNTRY needs tobe migrated.

INSERT INTO HOTLIST_GROUPS (ID ,NAME, DESCRIPTION)
	SELECT DEFAULT_HOTLIST_GROUPS_SEQ.nextval, ID, DESCRIPTION FROM HOTLIST_GROUP@DU_NIKIRA WHERE IS_DEFAULT = 1 ;
INSERT INTO HOTLIST_GROUPS (ID ,NAME, DESCRIPTION)
	SELECT HOTLIST_GROUPS_SEQ.nextval, ID, DESCRIPTION FROM HOTLIST_GROUP@DU_NIKIRA WHERE IS_DEFAULT <> 1 ;

INSERT INTO HOTLIST_GROUPS_NETWORKS (NETWORK_ID, HOTLIST_GROUP_ID) SELECT 999, ID FROM HOTLIST_GROUPS ;

INSERT INTO HOTLIST_GROUPS_SUSPECT_VALUES (HOTLIST_GROUP_ID, SUSPECT_VALUE_ID)
	SELECT G.ID, S.ID FROM HOTLIST_GROUPS G, SUSPECT_VALUES S, SUSPECT_NUMBER_GROUP@DU_NIKIRA SG
		WHERE G.NAME = SG.GROUP_ID AND S.VALUE = SG.VALUE AND S.ENTITY_TYPE = 2 ;
INSERT INTO HOTLIST_GROUPS_SUSPECT_VALUES (HOTLIST_GROUP_ID, SUSPECT_VALUE_ID)
	SELECT G.ID, S.ID FROM HOTLIST_GROUPS G, SUSPECT_VALUES S, SUSPECT_EQUIPMENT_ID_GROUP@DU_NIKIRA SG
		WHERE G.NAME = SG.GROUP_ID AND S.VALUE = SG.VALUE AND S.ENTITY_TYPE = 3 ;
INSERT INTO HOTLIST_GROUPS_SUSPECT_VALUES (HOTLIST_GROUP_ID, SUSPECT_VALUE_ID)
	SELECT G.ID, S.ID FROM HOTLIST_GROUPS G, SUSPECT_VALUES S, SUSPECT_IMSI_NUMBER_GROUP@DU_NIKIRA SG
		WHERE G.NAME = SG.GROUP_ID AND S.VALUE = SG.VALUE AND S.ENTITY_TYPE = 4 ;
INSERT INTO HOTLIST_GROUPS_SUSPECT_VALUES (HOTLIST_GROUP_ID, SUSPECT_VALUE_ID)
	SELECT G.ID, S.ID FROM HOTLIST_GROUPS G, SUSPECT_VALUES S, SUSPECT_CELL_SITE_GROUP@DU_NIKIRA SG
		WHERE G.NAME = SG.GROUP_ID AND S.VALUE = SG.VALUE AND S.ENTITY_TYPE = 14 ;
INSERT INTO HOTLIST_GROUPS_SUSPECT_VALUES (HOTLIST_GROUP_ID, SUSPECT_VALUE_ID)
	SELECT G.ID, S.ID FROM HOTLIST_GROUPS G, SUSPECT_VALUES S, SUSPECT_COUNTRY_GROUP@DU_NIKIRA SG
		WHERE G.NAME = SG.GROUP_ID AND S.VALUE = SG.VALUE AND S.ENTITY_TYPE = 2076 ;

-- TODO -  SUSPECT_COUNTRY needs tobe migrated.

DROP SEQUENCE DEFAULT_HOTLIST_GROUPS_SEQ ;

-- Hotlist : End --

COMMIT;

EXIT;
